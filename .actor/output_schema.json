{
    "title": "RAG Spider Output",
    "description": "Clean, chunked Markdown content optimized for RAG systems and vector databases",
    "type": "object",
    "schemaVersion": 1,
    "properties": {
        "url": {
            "title": "Source URL",
            "type": "string",
            "description": "The URL of the crawled page",
            "editor": "textfield"
        },
        "title": {
            "title": "Page Title",
            "type": "string",
            "description": "Title of the page extracted from the HTML",
            "editor": "textfield"
        },
        "status": {
            "title": "Processing Status",
            "type": "string",
            "description": "Status of the content extraction process",
            "editor": "select",
            "enum": [
                "success",
                "error",
                "extraction_failed",
                "chunking_failed",
                "request_failed"
            ],
            "enumTitles": [
                "Success",
                "Error",
                "Extraction Failed",
                "Chunking Failed",
                "Request Failed"
            ]
        },
        "extractionMethod": {
            "title": "Extraction Method",
            "type": "string",
            "description": "Method used to extract content (readability or fallback)",
            "editor": "textfield"
        },
        "totalChunks": {
            "title": "Total Chunks",
            "type": "integer",
            "description": "Number of text chunks generated from the page content",
            "editor": "number"
        },
        "totalTokens": {
            "title": "Total Tokens",
            "type": "integer",
            "description": "Estimated total token count across all chunks",
            "editor": "number"
        },
        "totalWords": {
            "title": "Total Words",
            "type": "integer",
            "description": "Total word count across all chunks",
            "editor": "number"
        },
        "chunks": {
            "title": "Content Chunks",
            "type": "array",
            "description": "Array of text chunks ready for vector database ingestion",
            "editor": "json",
            "items": {
                "type": "object",
                "properties": {
                    "content": {
                        "title": "Chunk Content",
                        "type": "string",
                        "description": "The markdown content of this chunk",
                        "editor": "textarea"
                    },
                    "chunkId": {
                        "title": "Chunk ID",
                        "type": "string",
                        "description": "Unique identifier for this chunk",
                        "editor": "textfield"
                    },
                    "chunkIndex": {
                        "title": "Chunk Index",
                        "type": "integer",
                        "description": "Position of this chunk in the sequence",
                        "editor": "number"
                    },
                    "tokens": {
                        "title": "Token Count",
                        "type": "integer",
                        "description": "Estimated token count for this chunk",
                        "editor": "number"
                    },
                    "wordCount": {
                        "title": "Word Count",
                        "type": "integer",
                        "description": "Number of words in this chunk",
                        "editor": "number"
                    },
                    "metadata": {
                        "title": "Chunk Metadata",
                        "type": "object",
                        "description": "Additional metadata for this chunk",
                        "editor": "json"
                    }
                }
            }
        },
        "processingStats": {
            "title": "Processing Statistics",
            "type": "object",
            "description": "Performance metrics for this page extraction",
            "editor": "json",
            "properties": {
                "extractionTime": {
                    "title": "Extraction Time",
                    "type": "integer",
                    "description": "Time taken to extract content (milliseconds)"
                },
                "chunkingTime": {
                    "title": "Chunking Time",
                    "type": "integer",
                    "description": "Time taken to chunk content (milliseconds)"
                },
                "totalProcessingTime": {
                    "title": "Total Processing Time",
                    "type": "integer",
                    "description": "Total time to process this page (milliseconds)"
                }
            }
        },
        "timestamp": {
            "title": "Timestamp",
            "type": "string",
            "description": "ISO 8601 timestamp when this data was processed",
            "editor": "textfield",
            "format": "date-time"
        },
        "error": {
            "title": "Error Message",
            "type": "string",
            "description": "Error message if processing failed",
            "editor": "textarea"
        },
        "errorStack": {
            "title": "Error Stack",
            "type": "string",
            "description": "Full error stack trace for debugging",
            "editor": "textarea"
        }
    }
}